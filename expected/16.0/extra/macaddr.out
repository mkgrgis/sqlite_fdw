--SET log_min_messages  TO DEBUG1;
--SET client_min_messages  TO DEBUG1;
--Testcase 001:
CREATE EXTENSION sqlite_fdw;
--Testcase 002:
CREATE SERVER sqlite_svr FOREIGN DATA WRAPPER sqlite_fdw
OPTIONS (database '/tmp/sqlite_fdw_test/common.db');
--Testcase 003:
CREATE SERVER sqlite2 FOREIGN DATA WRAPPER sqlite_fdw;
--Testcase 009:
CREATE FOREIGN TABLE "type_MACADDR"( "i" int OPTIONS (key 'true'), "m" macaddr) SERVER sqlite_svr OPTIONS (table 'type_MACADDR');
--Testcase 010:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE text;
--Testcase 011:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (1, '08:00:2b:01:02:03');
--Testcase 012:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (2, '08-00-2b-01-02-03');
--Testcase 013:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (3, '08002b:010203');
--Testcase 014:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (4, '08002b-010203');
--Testcase 015:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (5, '0800.2b01.0203');
--Testcase 016:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (6, '0800-2b01-0203');
--Testcase 017:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (7, '08002b010203');
--Testcase 018:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (8, '08:00:2F:01:02:03');
--Testcase 019:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (9, '08-00-2F-01-02-03');
--Testcase 020:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (10, '08002F:010203');
--Testcase 021:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (11, '08002F-010203');
--Testcase 022:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (12, '0800.2F01.0203');
--Testcase 023:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (13, '0800-2F01-0203');
--Testcase 024:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (14, '08002F010203');
--Testcase 025:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE bytea;
--Testcase 026:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (15, decode('08002F010203', 'hex'));
--Testcase 027:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (16, decode('08002b010203', 'hex'));
--Testcase 028:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE macaddr;
--Testcase 029:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (17, '08:00:2b:01:02:03');
--Testcase 030:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (18, '08-00-2b-01-02-03');
--Testcase 031:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (19, '08002b:010203');
--Testcase 032:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (20, '08002b-010203');
--Testcase 033:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (21, '0800.2b01.0203');
--Testcase 034:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (22, '0800-2b01-0203');
--Testcase 035:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (23, '08002b010203');
--Testcase 036:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (24, '08:00:2F:01:02:03');
--Testcase 037:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (25, '08-00-2F-01-02-03');
--Testcase 038:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (26, '08002F:010203');
--Testcase 039:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (27, '08002F-010203');
--Testcase 040:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (28, '0800.2F01.0203');
--Testcase 041:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (29, '0800-2F01-0203');
--Testcase 042:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (30, '08002F010203');
--Testcase 043:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_MACADDR" ("i", "m") VALUES (30, '08002F010203');
                    QUERY PLAN                    
--------------------------------------------------
 Insert on public."type_MACADDR"
   Batch Size: 1
   ->  Result
         Output: 30, '08:00:2f:01:02:03'::macaddr
(4 rows)

--Testcase 044:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (ADD column_type 'BLOB');
--Testcase 045:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (31, '08:00:2b:01:02:03');
--Testcase 046:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (32, '08-00-2b-01-02-03');
--Testcase 047:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (33, '08002b:010203');
--Testcase 048:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (34, '08002b-010203');
--Testcase 049:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (35, '0800.2b01.0203');
--Testcase 050:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (36, '0800-2b01-0203');
--Testcase 051:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (37, '08002b010203');
--Testcase 052:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (38, '08:00:2F:01:02:03');
--Testcase 053:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (39, '08-00-2F-01-02-03');
--Testcase 054:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (40, '08002F:010203');
--Testcase 055:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (41, '08002F-010203');
--Testcase 056:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (42, '0800.2F01.0203');
--Testcase 057:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (43, '0800-2F01-0203');
--Testcase 058:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (44, '08002F010203');
--Testcase 059:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_MACADDR" ("i", "m") VALUES (44, '08002F010203');
                    QUERY PLAN                    
--------------------------------------------------
 Insert on public."type_MACADDR"
   Batch Size: 1
   ->  Result
         Output: 44, '08:00:2f:01:02:03'::macaddr
(4 rows)

--Testcase 060:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'integer');
--Testcase 061:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (45, '08:00:2b:01:02:03');
--Testcase 062:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (46, '08-00-2b-01-02-03');
--Testcase 063:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (47, '08002b:010203');
--Testcase 064:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (48, '08002b-010203');
--Testcase 065:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (49, '0800.2b01.0203');
--Testcase 066:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (50, '0800-2b01-0203');
--Testcase 067:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (51, '08002b010203');
--Testcase 068:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (52, '08:00:2F:01:02:03');
--Testcase 069:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (53, '08-00-2F-01-02-03');
--Testcase 070:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (54, '08002F:010203');
--Testcase 071:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (55, '08002F-010203');
--Testcase 072:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (56, '0800.2F01.0203');
--Testcase 073:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (57, '0800-2F01-0203');
--Testcase 074:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (58, '08002F010203');
--Testcase 075:
EXPLAIN (VERBOSE, COSTS OFF)
INSERT INTO "type_MACADDR" ("i", "m") VALUES (58, '08002F010203');
                    QUERY PLAN                    
--------------------------------------------------
 Insert on public."type_MACADDR"
   Batch Size: 1
   ->  Result
         Output: 58, '08:00:2f:01:02:03'::macaddr
(4 rows)

--Testcase 076:
CREATE FOREIGN TABLE "type_MACADDR+"( "i" int OPTIONS (key 'true'), "m" macaddr, "t" text, "l" smallint, "tx" varchar(64)) SERVER sqlite_svr OPTIONS (table 'type_MACADDR+');
--Testcase 077:
SELECT * FROM "type_MACADDR+";
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
  8 | 08:00:2f:01:02:03 | text    | 17 | 08:00:2F:01:02:03
  9 | 08:00:2f:01:02:03 | text    | 17 | 08-00-2F-01-02-03
 10 | 08:00:2f:01:02:03 | text    | 13 | 08002F:010203
 11 | 08:00:2f:01:02:03 | text    | 13 | 08002F-010203
 12 | 08:00:2f:01:02:03 | text    | 14 | 0800.2F01.0203
 13 | 08:00:2f:01:02:03 | text    | 14 | 0800-2F01-0203
 14 | 08:00:2f:01:02:03 | text    | 12 | 08002F010203
 15 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 16 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 17 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 24 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 25 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 26 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 27 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 28 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 29 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 30 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 38 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 39 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 40 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 41 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 42 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 43 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 44 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 52 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 53 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 54 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 55 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 56 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 57 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 58 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
(58 rows)

--Testcase 078:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'BLOB');
--Testcase 079:
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2b:01:02:03';
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 16 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 17 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
(29 rows)

--Testcase 080:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2b:01:02:03';
                                                                            QUERY PLAN                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Foreign Scan on public."type_MACADDR+"
   Output: i, m, t, l, tx
   SQLite query: SELECT `i`, sqlite_fdw_macaddr_blob(`m`, 6), `t`, `l`, `tx` FROM main."type_MACADDR+" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08002b010203'))
(3 rows)

--Testcase 081:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'TEXT');
--Testcase 082:
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2b:01:02:03';
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 16 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 17 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
(29 rows)

--Testcase 083:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2b:01:02:03';
                                                                            QUERY PLAN                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Foreign Scan on public."type_MACADDR+"
   Output: i, m, t, l, tx
   SQLite query: SELECT `i`, sqlite_fdw_macaddr_blob(`m`, 6), `t`, `l`, `tx` FROM main."type_MACADDR+" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08002b010203'))
(3 rows)

--Testcase 084:
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2F:01:02:03';
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  8 | 08:00:2f:01:02:03 | text    | 17 | 08:00:2F:01:02:03
  9 | 08:00:2f:01:02:03 | text    | 17 | 08-00-2F-01-02-03
 10 | 08:00:2f:01:02:03 | text    | 13 | 08002F:010203
 11 | 08:00:2f:01:02:03 | text    | 13 | 08002F-010203
 12 | 08:00:2f:01:02:03 | text    | 14 | 0800.2F01.0203
 13 | 08:00:2f:01:02:03 | text    | 14 | 0800-2F01-0203
 14 | 08:00:2f:01:02:03 | text    | 12 | 08002F010203
 15 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 24 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 25 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 26 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 27 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 28 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 29 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 30 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 38 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 39 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 40 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 41 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 42 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 43 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 44 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 52 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 53 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 54 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 55 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 56 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 57 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 58 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
(29 rows)

--Testcase 085:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'integer');
--Testcase 086:
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2b:01:02:03';
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 16 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 17 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
(29 rows)

--Testcase 087:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2b:01:02:03';
                                                                            QUERY PLAN                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Foreign Scan on public."type_MACADDR+"
   Output: i, m, t, l, tx
   SQLite query: SELECT `i`, sqlite_fdw_macaddr_blob(`m`, 6), `t`, `l`, `tx` FROM main."type_MACADDR+" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08002b010203'))
(3 rows)

--Testcase 088:
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2F:01:02:03';
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  8 | 08:00:2f:01:02:03 | text    | 17 | 08:00:2F:01:02:03
  9 | 08:00:2f:01:02:03 | text    | 17 | 08-00-2F-01-02-03
 10 | 08:00:2f:01:02:03 | text    | 13 | 08002F:010203
 11 | 08:00:2f:01:02:03 | text    | 13 | 08002F-010203
 12 | 08:00:2f:01:02:03 | text    | 14 | 0800.2F01.0203
 13 | 08:00:2f:01:02:03 | text    | 14 | 0800-2F01-0203
 14 | 08:00:2f:01:02:03 | text    | 12 | 08002F010203
 15 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 24 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 25 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 26 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 27 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 28 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 29 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 30 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 38 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 39 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 40 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 41 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 42 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 43 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 44 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 52 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 53 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 54 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 55 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 56 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 57 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 58 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
(29 rows)

--Testcase 089:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'BLOB');
--Testcase 090:
SELECT * FROM "type_MACADDR+" where "m" = '08:00:2F:01:02:03';
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  8 | 08:00:2f:01:02:03 | text    | 17 | 08:00:2F:01:02:03
  9 | 08:00:2f:01:02:03 | text    | 17 | 08-00-2F-01-02-03
 10 | 08:00:2f:01:02:03 | text    | 13 | 08002F:010203
 11 | 08:00:2f:01:02:03 | text    | 13 | 08002F-010203
 12 | 08:00:2f:01:02:03 | text    | 14 | 0800.2F01.0203
 13 | 08:00:2f:01:02:03 | text    | 14 | 0800-2F01-0203
 14 | 08:00:2f:01:02:03 | text    | 12 | 08002F010203
 15 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 24 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 25 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 26 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 27 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 28 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 29 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 30 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 38 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 39 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 40 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 41 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 42 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 43 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 44 | 08:00:2f:01:02:03 | blob    |  6 | \x08
 52 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 53 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 54 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 55 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 56 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 57 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
 58 | 08:00:2f:01:02:03 | integer | 13 | 8796881617411
(29 rows)

--Testcase 091:
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "i" = 15;
--Testcase 092:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "i" = 15;
                                          QUERY PLAN                                           
-----------------------------------------------------------------------------------------------
 Update on public."type_MACADDR"
   ->  Foreign Update on public."type_MACADDR"
         SQLite query: UPDATE main."type_MACADDR" SET `m` = X'08aa2f010203' WHERE ((`i` = 15))
(3 rows)

--Testcase 093:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'TEXT');
--Testcase 094:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "i" = 16;
                                                      QUERY PLAN                                                       
-----------------------------------------------------------------------------------------------------------------------
 Update on public."type_MACADDR"
   ->  Foreign Update on public."type_MACADDR"
         SQLite query: UPDATE main."type_MACADDR" SET `m` = sqlite_fdw_macaddr_str(X'08aa2f010203') WHERE ((`i` = 16))
(3 rows)

--Testcase 095:
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "i" = 16;
--Testcase 096:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'integer');
--Testcase 097:
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "i" = 17; -- 9527026057731
                                                      QUERY PLAN                                                       
-----------------------------------------------------------------------------------------------------------------------
 Update on public."type_MACADDR"
   ->  Foreign Update on public."type_MACADDR"
         SQLite query: UPDATE main."type_MACADDR" SET `m` = sqlite_fdw_macaddr_int(X'08aa2f010203') WHERE ((`i` = 17))
(3 rows)

--Testcase 098:
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "i" = 17;
--Testcase 099:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'BLOB');
--Testcase 100:
DELETE FROM "type_MACADDR" WHERE "m" = '08:00:2F:01:02:03';
--Testcase 101:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_MACADDR" WHERE "m" = '08:00:2F:01:02:03';
                                                    QUERY PLAN                                                     
-------------------------------------------------------------------------------------------------------------------
 Delete on public."type_MACADDR"
   ->  Foreign Delete on public."type_MACADDR"
         SQLite query: DELETE FROM main."type_MACADDR" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08002f010203'))
(3 rows)

--Testcase 102:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'integer');
--Testcase 103:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_MACADDR" WHERE "m" = '08:00:2F:01:02:03';
                                                    QUERY PLAN                                                     
-------------------------------------------------------------------------------------------------------------------
 Delete on public."type_MACADDR"
   ->  Foreign Delete on public."type_MACADDR"
         SQLite query: DELETE FROM main."type_MACADDR" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08002f010203'))
(3 rows)

--Testcase 104:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'TEXT');
--Testcase 105:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_MACADDR" WHERE "m" = '08:00:2F:01:02:03';
                                                    QUERY PLAN                                                     
-------------------------------------------------------------------------------------------------------------------
 Delete on public."type_MACADDR"
   ->  Foreign Delete on public."type_MACADDR"
         SQLite query: DELETE FROM main."type_MACADDR" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08002f010203'))
(3 rows)

--Testcase 106:
SELECT * FROM "type_MACADDR+";
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 15 | 08:aa:2f:01:02:03 | blob    |  6 | \x08/\x01\x02\x03
 16 | 08:aa:2f:01:02:03 | text    | 17 | 08:aa:2f:01:02:03
 17 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
(30 rows)

--Testcase 107:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (59, '08:AA:2F:01:02:04');
--Testcase 108:
SELECT * FROM "type_MACADDR+" WHERE "i" = 59;
 i  |         m         |  t   | l  |        tx         
----+-------------------+------+----+-------------------
 59 | 08:aa:2f:01:02:04 | text | 17 | 08:aa:2f:01:02:04
(1 row)

--Testcase 109:
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:05' WHERE "m" = '08:AA:2F:01:02:04';
--Testcase 110: -- text
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:05' WHERE "m" = '08:AA:2F:01:02:04';
                                                                           QUERY PLAN                                                                           
----------------------------------------------------------------------------------------------------------------------------------------------------------------
 Update on public."type_MACADDR"
   ->  Foreign Update on public."type_MACADDR"
         SQLite query: UPDATE main."type_MACADDR" SET `m` = sqlite_fdw_macaddr_str(X'08aa2f010205') WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08aa2f010204'))
(3 rows)

--Testcase 111:
SELECT * FROM "type_MACADDR+";
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 15 | 08:aa:2f:01:02:03 | blob    |  6 | \x08/\x01\x02\x03
 16 | 08:aa:2f:01:02:03 | text    | 17 | 08:aa:2f:01:02:03
 17 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 59 | 08:aa:2f:01:02:05 | text    | 17 | 08:aa:2f:01:02:05
(31 rows)

--Testcase 112:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'BLOB');
--Testcase 113:
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "m" = '08:AA:2F:01:02:05';
--Testcase 114: -- BLOB
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:03' WHERE "m" = '08:AA:2F:01:02:05';
                                                               QUERY PLAN                                                               
----------------------------------------------------------------------------------------------------------------------------------------
 Update on public."type_MACADDR"
   ->  Foreign Update on public."type_MACADDR"
         SQLite query: UPDATE main."type_MACADDR" SET `m` = X'08aa2f010203' WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08aa2f010205'))
(3 rows)

--Testcase 115:
SELECT * FROM "type_MACADDR+";
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 15 | 08:aa:2f:01:02:03 | blob    |  6 | \x08/\x01\x02\x03
 16 | 08:aa:2f:01:02:03 | text    | 17 | 08:aa:2f:01:02:03
 17 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 59 | 08:aa:2f:01:02:03 | blob    |  6 | \x08/\x01\x02\x03
(31 rows)

--Testcase 116:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" OPTIONS (SET column_type 'int');
--Testcase 117:
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:02' WHERE "m" = '08:AA:2F:01:02:03';
--Testcase 118: -- BLOB
EXPLAIN (VERBOSE, COSTS OFF)
UPDATE "type_MACADDR" SET "m" = '08:AA:2F:01:02:02' WHERE "m" = '08:AA:2F:01:02:03';
                                                                           QUERY PLAN                                                                           
----------------------------------------------------------------------------------------------------------------------------------------------------------------
 Update on public."type_MACADDR"
   ->  Foreign Update on public."type_MACADDR"
         SQLite query: UPDATE main."type_MACADDR" SET `m` = sqlite_fdw_macaddr_int(X'08aa2f010202') WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) = X'08aa2f010203'))
(3 rows)

--Testcase 119:
SELECT * FROM "type_MACADDR+";
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 15 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 16 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 17 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 59 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
(31 rows)

--Testcase 120:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE bytea;
--Testcase 121:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (60, decode('08002F0102', 'hex'));
--Testcase 122:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (61, decode('08002F01020304', 'hex'));
--Testcase 123:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE macaddr;
--Testcase 124: -- err
SELECT * FROM "type_MACADDR+" WHERE "i" = 60;
ERROR:  PostgreSQL macaddr data type allows only 6 bytes SQLite blob value
HINT:  SQLite value with "blob" affinity (5 bytes) in hex : 08002f0102
CONTEXT:  foreign table "type_MACADDR+" foreign column "m" have data type "macaddr" (usual affinity "blob"), in query there is reference to foreign column
--Testcase 125: -- err
SELECT * FROM "type_MACADDR+" WHERE "i" = 61;
ERROR:  PostgreSQL macaddr data type allows only 6 bytes SQLite blob value
HINT:  SQLite value with "blob" affinity (7 bytes) in hex : 08002f01020304
CONTEXT:  foreign table "type_MACADDR+" foreign column "m" have data type "macaddr" (usual affinity "blob"), in query there is reference to foreign column
--Testcase 126:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_MACADDR" WHERE "i" IN (60, 61);
                                  QUERY PLAN                                   
-------------------------------------------------------------------------------
 Delete on public."type_MACADDR"
   ->  Foreign Delete on public."type_MACADDR"
         SQLite query: DELETE FROM main."type_MACADDR" WHERE (`i` IN (60, 61))
(3 rows)

--Testcase 127:
DELETE FROM "type_MACADDR" WHERE "i" IN (60, 61);
--Testcase 128:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE bigint;
--Testcase 129:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (62, 0xFFFFFFFFFFFFFF);
--Testcase 130:
ALTER FOREIGN TABLE "type_MACADDR" ALTER COLUMN "m" TYPE macaddr;
--Testcase 131: -- err
SELECT * FROM "type_MACADDR+" WHERE "i" = 62;
ERROR:  integer for mac address greather than byte length of MAC address
HINT:  72057594037927935
--Testcase 132:
EXPLAIN (VERBOSE, COSTS OFF)
DELETE FROM "type_MACADDR" WHERE "i" IN (62);
                                QUERY PLAN                                
--------------------------------------------------------------------------
 Delete on public."type_MACADDR"
   ->  Foreign Delete on public."type_MACADDR"
         SQLite query: DELETE FROM main."type_MACADDR" WHERE ((`i` = 62))
(3 rows)

--Testcase 133:
DELETE FROM "type_MACADDR" WHERE "i" IN (62);
--Testcase 134:
INSERT INTO "type_MACADDR" ("i", "m") VALUES (63, NULL);
--Testcase 135:
SELECT * FROM "type_MACADDR+";
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 15 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 16 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 17 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 59 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 63 |                   | null    |    | 
(32 rows)

--Testcase 136:
SELECT * FROM "type_MACADDR+" WHERE "m" IS NULL;
 i  | m |  t   | l | tx 
----+---+------+---+----
 63 |   | null |   | 
(1 row)

--Testcase 137:
SELECT * FROM "type_MACADDR+" WHERE "m" IS NOT NULL;
 i  |         m         |    t    | l  |        tx         
----+-------------------+---------+----+-------------------
  1 | 08:00:2b:01:02:03 | text    | 17 | 08:00:2b:01:02:03
  2 | 08:00:2b:01:02:03 | text    | 17 | 08-00-2b-01-02-03
  3 | 08:00:2b:01:02:03 | text    | 13 | 08002b:010203
  4 | 08:00:2b:01:02:03 | text    | 13 | 08002b-010203
  5 | 08:00:2b:01:02:03 | text    | 14 | 0800.2b01.0203
  6 | 08:00:2b:01:02:03 | text    | 14 | 0800-2b01-0203
  7 | 08:00:2b:01:02:03 | text    | 12 | 08002b010203
 15 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 16 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 17 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
 18 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 19 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 20 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 21 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 22 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 23 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 31 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 32 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 33 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 34 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 35 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 36 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 37 | 08:00:2b:01:02:03 | blob    |  6 | \x08
 45 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 46 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 47 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 48 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 49 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 50 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 51 | 08:00:2b:01:02:03 | integer | 13 | 8796814508547
 59 | 00:00:01:2f:aa:08 | integer |  8 | 19900936
(31 rows)

--Testcase 138:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_MACADDR+" WHERE "m" IS NULL;
                                                                       QUERY PLAN                                                                        
---------------------------------------------------------------------------------------------------------------------------------------------------------
 Foreign Scan on public."type_MACADDR+"
   Output: i, m, t, l, tx
   SQLite query: SELECT `i`, sqlite_fdw_macaddr_blob(`m`, 6), `t`, `l`, `tx` FROM main."type_MACADDR+" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) IS NULL))
(3 rows)

--Testcase 139:
EXPLAIN (VERBOSE, COSTS OFF)
SELECT * FROM "type_MACADDR+" WHERE "m" IS NOT NULL;
                                                                         QUERY PLAN                                                                          
-------------------------------------------------------------------------------------------------------------------------------------------------------------
 Foreign Scan on public."type_MACADDR+"
   Output: i, m, t, l, tx
   SQLite query: SELECT `i`, sqlite_fdw_macaddr_blob(`m`, 6), `t`, `l`, `tx` FROM main."type_MACADDR+" WHERE ((sqlite_fdw_macaddr_blob(`m`, 6) IS NOT NULL))
(3 rows)

--Testcase 140:
CREATE FOREIGN TABLE "type_MACADDRpk" (col macaddr OPTIONS (key 'true')) SERVER sqlite_svr;
--Testcase 141:
ALTER FOREIGN TABLE "type_MACADDRpk" ALTER COLUMN "m" OPTIONS (SET column_type 'BLOB');
ERROR:  column "m" of relation "type_MACADDRpk" does not exist
--Testcase 142:
INSERT INTO "type_MACADDRpk" VALUES ('01:02:03:04:05:06');
--Testcase 143:
ALTER FOREIGN TABLE "type_MACADDRpk" ALTER COLUMN "m" OPTIONS (SET column_type 'int');
ERROR:  column "m" of relation "type_MACADDRpk" does not exist
--Testcase 144:
INSERT INTO "type_MACADDRpk" VALUES ('01:02:03:04:05:06');
ERROR:  failed to execute remote SQL: rc=19 UNIQUE constraint failed: type_MACADDRpk.col 
   sql=INSERT INTO main."type_MACADDRpk"(`col`) VALUES (?)
--Testcase 145:
ALTER FOREIGN TABLE "type_MACADDRpk" ALTER COLUMN "m" OPTIONS (SET column_type 'text');
ERROR:  column "m" of relation "type_MACADDRpk" does not exist
--Testcase 146: ERR - primary key
INSERT INTO "type_MACADDRpk" VALUES ('01:02:03:04:05:06');
ERROR:  failed to execute remote SQL: rc=19 UNIQUE constraint failed: type_MACADDRpk.col 
   sql=INSERT INTO main."type_MACADDRpk"(`col`) VALUES (?)
--Testcase 147:
ALTER FOREIGN TABLE "type_MACADDRpk" ALTER COLUMN col OPTIONS (ADD column_type 'BLOB');
--Testcase 148: NO ERR, but the same semantics!
INSERT INTO "type_MACADDRpk" VALUES ('01-02-03-04-05-06');
ERROR:  failed to execute remote SQL: rc=19 UNIQUE constraint failed: type_MACADDRpk.col 
   sql=INSERT INTO main."type_MACADDRpk"(`col`) VALUES (?)
--Testcase 149:
DELETE FROM "type_MACADDRpk";
--Testcase 200:
DROP EXTENSION sqlite_fdw CASCADE;
NOTICE:  drop cascades to 5 other objects
DETAIL:  drop cascades to server sqlite_svr
drop cascades to foreign table "type_MACADDR"
drop cascades to foreign table "type_MACADDR+"
drop cascades to foreign table "type_MACADDRpk"
drop cascades to server sqlite2
